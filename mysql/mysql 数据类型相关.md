### 整数类型
- mysql 可以为整型指定宽度。例如： int(11)。 但是这并不限制值的合法范围，只是规定了 mysql 的一些交互工具用来显示字符的个数。

### 文本类型

#### char
- 长度：固定为创建表时声明的长度，范围是 0 ~ 255
- 填充：保存时，右边填充空格以达到指定的长度，检索时，尾部的空格被删除掉。

#### varchar
- 长度：只保存需要的字符数，另外需要额外1到2个字节记录长度。如果最大长度小于或等于255字节，则使用1个字节表示，否则使用2个字节。
- 最大有效长度由最大行大小和使用的字符集确定。整体最大长度是65,532字节
- 填充：保存时不进行填充，保存和检索时尾部的空格仍保留
- 编码长度限制
    - 字符类型若为gbk，每个字符最多占2个字节，最大长度不能超过32766;
    - 字符类型若为utf8，每个字符最多占3个字节，最大长度不能超过21845。
    - 若定义的时候超过上述限制，则varchar字段会被强行转为text类型，并产生warning。
- 行长度限制
    - 导致实际应用中varchar长度限制的是一个行定义的长度。 MySQL要求一个行的定义长度不能超过65535。若定义的表长度超过这个值则抛错

#### char 和 varchar 相同点
- CHAR 和 VARCHAR 类型声明的长度单位是字符数。
- 超过最大长度
    - 如果分配给CHAR或VARCHAR列的值超过列的最大长度，则对值进行裁剪以使其适合。如果被裁掉的字符不是空格，则会产生一条警告。如果裁剪非空格字符，则会造成错误(而不是警告)并通过使用严格SQL模式禁用值的插入

#### [text 和 blob](https://dev.mysql.com/doc/refman/8.0/en/blob.html)
- 对于TEXT和BLOB列，插入时没有填充，并且select时不会删除任何字节。
- 如果TEXT列被索引，则索引条目比较在末尾以空格填充。这意味着，如果索引需要唯一值，则对于仅在尾随空格数方面不同的值，将出现重复键错误。例如，如果表包含'a'，则尝试存储'a '会导致重复键错误。BLOB列不是这样。

#### enum 代替字符串
- mysql 内部会将每个值在列表中的位置保存为整数，并且在表的 .frm 文件中保存为 “数字-字符串” 映射关系的“查找表”。
- 枚举的字段是按照内部存储的整数而不是定义的字符串进行排序的
- 枚举里的字符串列表是固定的，添加或删除字符串必须使用 alter table
- 由于 mysql 把每个枚举值保存为整数，并且必须通过查找才能转换成字符串，所以枚举列有一些开销。

### 日期和时间类型
#### datetime
- 范围：1001年到9999年
- 大小：8个字节
- 将日期和时间封装到格式为 YYYYMMDDHHMMSS 的整数中，与时区无关

#### timestamp
- 范围： 1970 年到 2038 年
- 大小：4个字节
- 保存从 1970年1月1日午夜（格林尼治标准时间）以来的秒数，与 UNIX 时间戳相同。显示的时间依赖时区

### 相关问题
- int(1) 和 int(11) 一样吗
- varchar(5) 和 varchar(200) 存储 'hello' 的空间开销是一样的，那么使用短的列有什么优势？
    - 使用更长的列会消耗更多的内存，因为 mysql 通常会分配固定大小的内存块来保存内部值，尤其是使用内存临时表排序或操作会特别糟糕。
- 如何评估使用 char 还是 varchar
- blob 和 text 不同于 varbinary 和 vachar 的地方有哪些
    - 对于索引 BLOB 和 TEXT 列，必须指定索引前缀长度。而对于 CHAR 和  VARCHAR 来说，前缀长度是可选的。
    - BLOB 和 TEXT 列不能有 DEFAULT 值。
    - 只对每个列的最前 max_sort_length 字节而不是整个字符串进行排序。如果只需要排序前面一小部分字符，则可以减小 max_sort_length 的配置，或者使用 order by sustring(column, length)
- 枚举排序

### 其他相关
#### [表列数和行大小的限制](https://dev.mysql.com/doc/refman/8.0/en/column-count-limit.html)

##### 列限制
- MySQL每个表的硬限制为4096列，但是存储引擎可能会施加额外的限制来限制表列数。例如，InnoDB每个表的限制为1017列。
- 表的最大行长度限制列的数量

##### 行长度限制
- MySQL表的最大行大小限制为65,535字节。 BLOB和 TEXT列只对消耗9到12个字节（因为它们的内容与行的其余部分是分开存储的）。
- InnoDB 对于4KB，8KB，16KB和32KB innodb_page_size 设置，表 的最大行大小（适用于本地存储在数据库页面中的数据）略小于半页。例如，对于默认的16KB InnoDB页面大小，最大行大小略小于8KB。对于64KB页面，最大行大小略小于16KB。
- 不同的存储格式使用不同数量的页眉和尾部数据，这会影响行的可用存储量。